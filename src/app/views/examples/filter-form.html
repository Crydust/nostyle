{% extends 'layouts/raw.html' %}

{% import "macros/form-elements.html" as formElements %}
{% import "macros/buttons.html" as buttons %}

{% block pageCss %}
<style>
	.search:after {
	  visibility: hidden;
	  display: block;
	  font-size: 0;
	  content: " ";
	  clear: both;
	  height: 0;
	}

	.filter {
		float: left;
		width: 20%;
		padding-right: 5%;
	}

	.search h2 {
		margin-bottom: 30px;
	}

	.results {
		float: left;
		width: 75%;
	}

	.result {
		float: left;
		background-color: #eee;
		height: 200px;
		width: 200px;
		margin-right: 20px;
		margin-bottom: 20px;
	}

	.filter .field {
		margin-bottom: 0;
	}

	.filter .field-options {
		margin-bottom: 30px;
	}

	.filter legend {
		display: block;
		width: 100%;
	}

	.filter button {
		all: inherit;
		border: 0;
	  display: flex;
	  justify-content: space-between;
	  font-weight: bold;
	}

	.filter button svg {
		height: 1.2em;
  	margin-left: 0.5em;
  	margin-top: 0.2em;
	}

	[aria-expanded="true"] .vert {
	  display: none;
	}

	.filter button:focus svg {  
    box-shadow: 0 0 1px 4px #ffbf47;
	}

	.filter form {
		position: relative;
	}

	.filter .secondaryButton:first-child {
		position: sticky;
		top: 0;
		z-index: 2;
		margin-bottom: 20px;
		
	}

	.filter .secondaryButton:last-child {
		position: sticky;
		bottom: 0;
		z-index: 2;
		margin-top: 10px;
	}

</style>
{% endblock pageCss %}

{% block pageScript %}
<script>
	new FilterCollapser($('fieldset').eq(0));
	new FilterCollapser($('fieldset').eq(1));
	new FilterCollapser($('fieldset').eq(2));
</script>
{% endblock pageScript %}

{% block mainContent %}
	<div class="search">
		<h1>T-shirts</h1>

		<div class="filter">
			<h2>Filters</h2>
			<form role="form">

				{{buttons.secondaryButton('Apply filters')}}
				
				{{formElements.checkboxes('colours', 'Colour', [{
					label: 'Red',
					id: 'colours'
				}, {
					label: 'Blue',
					id: 'colours1'
				},  {
					label: 'Green',
					id: 'colours2'
				}])}}

				{{formElements.checkboxes('size', 'Size', [{
					label: 'Small',
					id: 'size'
				}, {
					label: 'Medium',
					id: 'size1'
				},  {
					label: 'Large',
					id: 'size2'
				}])}}

				{{formElements.radioButtons('rating', 'Average rating', [{
					label: '4 stars and up',
					id: 'popularity0'
				},  {
					label: '3 stars and up',
					id: 'popularity1'
				}, {
					label: '2 stars and up',
					id: 'popularity2'
				}, {
					label: '1 star and up',
					id: 'popularity3'
				}])}}

				{{buttons.secondaryButton('Apply filters')}}



			</form>
		</div>
		<div class="results">
			<h2>Products</h2>
			<div class="result">
			</div>
			<div class="result">
			</div>
			<div class="result">
			</div>
			<div class="result">
			</div>
			<div class="result">
			</div>
			<div class="result">
			</div>
			<div class="result">
			</div>

		</div>
	</div>
{% endblock mainContent %}